import{H as w,T as q}from"./IStFmxWh.js";import{_ as C,m as x,f as T,r as l,x as V,g as B,y as _,c as a,b as h,w as v,a as n,h as D,v as F,z as H,F as L,j as N,o as r,d as P,t as K}from"./BLKQ2FKz.js";import{u as M}from"./DTiZrW7I.js";const R={class:"search-container"},$={class:"search-results"},b={key:0},j={key:0},z=["onClick"],E={key:1,class:"no-results"},I={key:1,class:"no-results"},S={__name:"search",setup(U){const{getCollection:y}=M(),u=x(),c=T(),i=l([]),t=l(u.query.query||""),d=l([]),m=async()=>{try{i.value=await y("posts"),d.value=i.value}catch(e){console.error("게시물 로드 실패:",e)}},p=V(()=>{if(!t.value.trim())return[];const e=t.value.toLowerCase();return d.value.filter(s=>s.title.toLowerCase().includes(e))}),f=e=>{c.push(`/posts/${e}`)};return B(()=>{m()}),_(t,e=>{e&&c.push({query:{query:e}})},{immediate:!0}),_(()=>u.query.query,e=>{t.value=e||""}),(e,s)=>{const g=q,k=w;return r(),a("div",null,[h(k,null,{default:v(()=>[h(g,null,{default:v(()=>s[2]||(s[2]=[P("검색 결과 - 쁠로그")])),_:1})]),_:1}),n("div",R,[D(n("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.value=o),type:"text",placeholder:"검색어를 입력하세요...",class:"search-input",onKeydown:s[1]||(s[1]=H((...o)=>e.searchpage&&e.searchpage(...o),["enter"]))},null,544),[[F,t.value]])]),n("div",$,[t.value.length>0?(r(),a("div",b,[p.value.length>0?(r(),a("div",j,[(r(!0),a(L,null,N(p.value,o=>(r(),a("div",{key:o.id,class:"post-card",onClick:A=>f(o.id)},[n("h3",null,K(o.title),1)],8,z))),128))])):(r(),a("p",E,"검색 결과가 없습니다."))])):(r(),a("p",I," 검색어를 입력하세요. "))])])}}},Q=C(S,[["__scopeId","data-v-7974cee5"]]);export{Q as default};
