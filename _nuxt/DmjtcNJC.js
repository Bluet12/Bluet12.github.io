import{_ as k,u as v,l as b,f as x,r as I,g as R,c as i,a as o,F as S,m as C,b as M,w as m,e as N,o as c,n as $,t as p,d as B}from"./BCI5SywS.js";const D={class:"container"},F={class:"posts-list"},V={key:0,class:"no-posts"},L={key:1,class:"posts-container"},P={class:"post-header"},j={class:"post-content"},E=["onClick"],H={__name:"index",setup(T){v({title:"이것은 블로그ㄷ",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"이것은 블로그ㄷ에 대한 설명입니다."},{hid:"keywords",name:"keywords",content:"블로그, 웹 개발, Nuxt.js"},{property:"og:title",content:"이것은 블로그ㄷ"},{property:"og:description",content:"이것은 블로그ㄷ에 대한 설명입니다람쥐"},{property:"og:type",content:"website"},{property:"og:image",content:"https://image.fmkorea.com/files/attach/new3/20231207/486616/4593532374/6478997657/99b983892094b5c6d2fc3736e15da7d1.png"},{property:"og:url",content:"bblog.kro.kr"},{name:"twitter:title",content:"이것은 블로그ㄷ"},{name:"twitter:description",content:"이것은 블로그ㄷ에 대한 설명입니다."},{name:"twitter:image",content:"https://image.fmkorea.com/files/attach/new3/20231207/486616/4593532374/6478997657/99b983892094b5c6d2fc3736e15da7d1.png"},{name:"twitter:card",content:"summary_large_image"}]}),b(()=>{localStorage.getItem("createReload")==="true"&&(window.location.reload(),localStorage.removeItem("createReload")),localStorage.getItem("deleteReload")==="true"&&(window.location.reload(),localStorage.removeItem("deleteReload"))});const{getCollection:_,deleteCollection:f}=x(),d=I([]),g=R(),h=t=>{if(!t)return"";const l=new Date-t,s=Math.floor(l/1e3),n=Math.floor(s/60),a=Math.floor(n/60),r=Math.floor(a/24);return r>0?`${r}일 전`:a>0?`${a}시간 전`:n>0?`${n}분 전`:`${s}초 전`},u=async()=>{try{const t=await _("posts");d.value=t}catch(t){console.error("게시물 로딩 오류:",t)}},w=async t=>{try{await f("posts",t),alert("게시물이 삭제되었습니다!"),u(),g.push("/"),localStorage.setItem("deleteReload","true")}catch(e){alert("게시물 삭제 실패"),console.error(e)}};return u(),(t,e)=>{const l=N;return c(),i("div",D,[o("div",F,[e[1]||(e[1]=o("h2",null,"게시물 목록",-1)),d.value.length===0?(c(),i("div",V,e[0]||(e[0]=[o("p",null,"게시물이 없습니다.",-1)]))):(c(),i("div",L,[(c(!0),i(S,null,C(d.value,({id:s,title:n,content:a,createdAt:r})=>(c(),$(l,{key:s,to:`/posts/${s}`,class:"post-card"},{default:m(()=>[o("div",P,[o("h3",null,p(n),1),o("small",null," 작성일: "+p(r?h(r):"알 수 없음"),1)]),o("p",j,p(a),1),o("button",{class:"delete-btn",onClick:y=>w(s,y)},"삭제",8,E)]),_:2},1032,["to"]))),128))]))]),M(l,{class:"create-btn",to:"/create"},{default:m(()=>e[2]||(e[2]=[B("게시물 작성")])),_:1})])}}},z=k(H,[["__scopeId","data-v-a779f50d"]]);export{z as default};
