import{_ as y,r as v,c as i,a as o,F as x,i as w,b as g,w as k,e as $,o as a,j as C,t as p,d as b}from"./BkT2jYCq.js";import{u as B}from"./CxhbO0Bb.js";const M={setup(){const{getCollection:f,deleteCollection:s}=B(),d=v([]),e=t=>{if(!t)return"";const _=new Date-t,l=Math.floor(_/1e3),r=Math.floor(l/60),c=Math.floor(r/60),m=Math.floor(c/24);return m>0?`${m}일 전`:c>0?`${c}시간 전`:r>0?`${r}분 전`:`${l}초 전`},u=async()=>{try{const t=await f("posts");d.value=t}catch(t){console.error("게시물 로딩 오류:",t)}},h=async t=>{try{await s("posts",t),alert("게시물이 삭제되었습니다!"),u()}catch(n){alert("게시물 삭제 실패"),console.error(n)}};return u(),{posts:d,deletePost:h,timeAgo:e}}},N={class:"container"},D={class:"posts-list"},F={key:0,class:"no-posts"},P={key:1,class:"posts-container"},V={class:"post-header"},L=["onClick"];function j(f,s,d,e,u,h){const t=$;return a(),i("div",N,[o("div",D,[s[1]||(s[1]=o("h2",null,"게시물 목록",-1)),e.posts.length===0?(a(),i("div",F,s[0]||(s[0]=[o("p",null,"게시물이 없습니다.",-1)]))):(a(),i("div",P,[(a(!0),i(x,null,w(e.posts,({id:n,title:_,content:l,createdAt:r})=>(a(),C(t,{key:n,to:`/posts/${n}`,class:"post-card"},{default:k(()=>[o("div",V,[o("h3",null,p(_),1),o("small",null," 작성일: "+p(r?e.timeAgo(r):"알 수 없음"),1)]),o("p",null,p(l),1),o("button",{class:"delete-btn",onClick:c=>e.deletePost(n)},"삭제",8,L)]),_:2},1032,["to"]))),128))]))]),g(t,{class:"create-btn",to:"/create"},{default:k(()=>s[2]||(s[2]=[b("게시물 작성")])),_:1})])}const I=y(M,[["render",j],["__scopeId","data-v-9d7a17ca"]]);export{I as default};
