import{_ as h,r as k,c as n,a as s,F as y,i as x,b as u,w as m,e as b,o as a,t as d,d as g}from"./BarH_1jL.js";import{u as C}from"./DUKbRVzQ.js";const w={setup(){const{getCollection:l,deleteCollection:t}=C(),c=k([]),o=async()=>{try{const e=await l("posts");c.value=e}catch(e){console.error("게시물 로딩 오류:",e)}},p=async e=>{try{await t("posts",e),alert("게시물이 삭제되었습니다!"),o()}catch(r){alert("게시물 삭제 실패"),console.error(r)}};return o(),{posts:c,deletePost:p}}},N={class:"container"},B={class:"posts-list"},F={key:0,class:"no-posts"},P={key:1,class:"posts-container"},V={class:"post-header"},$=["onClick"];function L(l,t,c,o,p,e){const r=b;return a(),n("div",N,[s("div",B,[t[1]||(t[1]=s("h2",null,"게시물 목록",-1)),o.posts.length===0?(a(),n("div",F,t[0]||(t[0]=[s("p",null,"게시물이 없습니다.",-1)]))):(a(),n("div",P,[(a(!0),n(y,null,x(o.posts,({id:i,title:f,content:v,createdAt:_})=>(a(),n("div",{class:"post-card",key:i},[s("div",V,[u(r,{to:`/posts/${i}`},{default:m(()=>[s("h3",null,d(f),1)]),_:2},1032,["to"]),s("small",null," 작성일: "+d(_?l.timeAgo(_):"알 수 없음"),1)]),s("p",null,d(v),1),s("button",{class:"delete-btn",onClick:D=>o.deletePost(i)},"삭제",8,$)]))),128))]))]),u(r,{class:"create-btn",to:"/create"},{default:m(()=>t[2]||(t[2]=[g("게시물 작성")])),_:1})])}const S=h(w,[["render",L],["__scopeId","data-v-abca1a05"]]);export{S as default};
