import{_ as q,m as C,f as x,r as u,x as T,g as M,y as v,c as a,b as n,w as y,a as l,h as V,v as b,z as B,F as D,j as F,H,o as r,d as L,t as N,T as P,M as K}from"./Cf9-CK9x.js";import{u as R}from"./BB6cQ59w.js";const $={class:"search-container"},j={class:"search-results"},z={key:0},E={key:0},I=["onClick"],S={key:1,class:"no-results"},U={key:1,class:"no-results"},A={__name:"search",setup(G){const{getCollection:m}=R(),i=C(),d=x(),p=u([]),s=u(i.query.query||""),_=u([]),f=async()=>{try{p.value=await m("posts"),_.value=p.value}catch(e){console.error("게시물 로드 실패:",e)}},h=T(()=>{if(!s.value.trim())return[];const e=s.value.toLowerCase();return _.value.filter(t=>t.title.toLowerCase().includes(e))}),g=e=>{d.push(`/posts/${e}`)};return M(()=>{f()}),v(s,e=>{e&&d.push({query:{query:e}})},{immediate:!0}),v(()=>i.query.query,e=>{s.value=e||""}),(e,t)=>{const k=P,c=K,w=H;return r(),a("div",null,[n(w,null,{default:y(()=>[n(k,null,{default:y(()=>t[2]||(t[2]=[L("검색 결과 - 쁠로그")])),_:1}),n(c,{property:"og:title",content:"검색 결과 - 쁠로그"}),n(c,{property:"og:description",content:"검색한 결과입니다."}),n(c,{property:"og:type",content:"website"})]),_:1}),l("div",$,[V(l("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),type:"text",placeholder:"검색어를 입력하세요...",class:"search-input",onKeydown:t[1]||(t[1]=B((...o)=>e.searchpage&&e.searchpage(...o),["enter"]))},null,544),[[b,s.value]])]),l("div",j,[s.value.length>0?(r(),a("div",z,[h.value.length>0?(r(),a("div",E,[(r(!0),a(D,null,F(h.value,o=>(r(),a("div",{key:o.id,class:"post-card",onClick:J=>g(o.id)},[l("h3",null,N(o.title),1)],8,I))),128))])):(r(),a("p",S,"검색 결과가 없습니다."))])):(r(),a("p",U," 검색어를 입력하세요. "))])])}}},W=q(A,[["__scopeId","data-v-e895987b"]]);export{W as default};
