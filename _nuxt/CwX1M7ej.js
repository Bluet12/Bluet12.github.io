import{_ as m,g as x,r as y,f as w,h as g,c as i,a as o,F as M,k as $,b as C,w as p,e as b,o as c,l as B,t as u,j as N,d as D}from"./TfFLewvO.js";const F={class:"container"},V={class:"posts-list"},L={key:0,class:"no-posts"},P={key:1,class:"posts-container"},j={class:"post-header"},E={class:"post-content"},I=["onClick"],R={__name:"index",setup(S){const{getCollection:f,deleteCollection:h}=x(),d=y([]);w();const v=t=>{if(!t)return"";const l=new Date-t,e=Math.floor(l/1e3),n=Math.floor(e/60),a=Math.floor(n/60),r=Math.floor(a/24);return r>0?`${r}일 전`:a>0?`${a}시간 전`:n>0?`${n}분 전`:`${e}초 전`},_=async()=>{try{const t=await f("posts");d.value=t}catch(t){console.error("게시물 로딩 오류:",t)}},k=async t=>{try{await h("posts",t),alert("게시물이 삭제되었습니다!"),_()}catch(s){alert("게시물 삭제 실패"),console.error(s)}};return g(()=>{_()}),(t,s)=>{const l=b;return c(),i("div",F,[o("div",V,[s[1]||(s[1]=o("h2",null,"게시물 목록",-1)),d.value.length===0?(c(),i("div",L,s[0]||(s[0]=[o("p",null,"게시물이 없습니다.",-1)]))):(c(),i("div",P,[(c(!0),i(M,null,$(d.value,({id:e,title:n,content:a,createdAt:r})=>(c(),B(l,{key:e,to:`/posts/${e}`,class:"post-card"},{default:p(()=>[o("div",j,[o("h3",null,u(n),1),o("small",null," 작성일: "+u(r?v(r):"알 수 없음"),1)]),o("p",E,u(a),1),o("button",{class:"delete-btn",onClick:N(T=>k(e),["prevent"])},"삭제",8,I)]),_:2},1032,["to"]))),128))]))]),C(l,{class:"create-btn",to:"/create"},{default:p(()=>s[2]||(s[2]=[D("게시물 작성")])),_:1})])}}},z=m(R,[["__scopeId","data-v-97564659"]]);export{z as default};
