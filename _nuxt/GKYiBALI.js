import{_ as h,r as k,c as n,a as s,F as x,i as y,b as u,w as f,e as g,o as a,t as i,d as C}from"./CKXr75wz.js";import{u as b}from"./DSR4-4ZC.js";const w={setup(){const{getCollection:d,deleteCollection:t}=b(),l=k([]),o=async()=>{try{const e=await d("posts");l.value=e}catch(e){console.error("게시물 로딩 오류:",e)}},_=async e=>{try{await t("posts",e),alert("게시물이 삭제되었습니다!"),o()}catch(r){alert("게시물 삭제 실패"),console.error(r)}};return o(),{posts:l,deletePost:_}}},N={class:"container"},B={class:"posts-list"},F={key:0,class:"no-posts"},L={key:1,class:"posts-container"},P={class:"post-header"},V=["onClick"];function $(d,t,l,o,_,e){const r=g;return a(),n("div",N,[s("div",B,[t[1]||(t[1]=s("h2",null,"게시물 목록",-1)),o.posts.length===0?(a(),n("div",F,t[0]||(t[0]=[s("p",null,"게시물이 없습니다.",-1)]))):(a(),n("div",L,[(a(!0),n(x,null,y(o.posts,({id:c,title:m,content:v,createdAt:p})=>(a(),n("div",{class:"post-card",key:c},[s("div",P,[u(r,{to:`/posts/${c}`},{default:f(()=>[s("h3",null,i(m),1)]),_:2},1032,["to"]),s("small",null," 작성일: "+i(p?p.toDate().toLocaleString():"알 수 없음"),1)]),s("p",null,i(v),1),s("button",{class:"delete-btn",onClick:D=>o.deletePost(c)},"삭제",8,V)]))),128))]))]),u(r,{class:"create-btn",to:"/create"},{default:f(()=>t[2]||(t[2]=[C("게시물 작성")])),_:1})])}const I=h(w,[["render",$],["__scopeId","data-v-650d9001"]]);export{I as default};
